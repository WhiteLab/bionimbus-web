{% extends 'tina/base.html' %}
{% load staticfiles %}
{% load tina_filters %}

{% block extra_js %}
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>#}
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>#}
{#    <script src="http://jarwol.com/aTable/dist/0.4.0/atable.min.js"></script>#}
<script src="{% static 'js/library/view_library.js' %}"></script>
{% endblock extra_js %}

{% block content %}
<div style="display:flex;justify-content: space-between">
    <input type="text" class="view-library-search" id="tina-search" placeholder="Search" style="background-image: url({% static 'img/Vector_search_icon.svg' %})"/>
    <select>
        <option>Apply Filter</option>
    </select>
    <select id="tina-groupby">
        <option value="" disabled hidden{% if not groupby_current %} selected{% endif %}>Group By</option>
        {% for e in groupby_options %}
            <option value="{{ e }}"{% if groupby_current == e %} selected{% endif %}>{{ e }}</option>
        {% endfor %}
    </select>
    <div>
        <button class="tina-btn-inline" style="float:right"><i class="fa fa-bars"></i></button>
        <button class="tina-btn-inline"><i class="fa fa-th-large"></i></button>
    </div>
    <button class="tina-btn-inline">
        <i class="fa fa-gear"></i>&nbsp;&nbsp;Settings
    </button>
</div>


    <button type="button" class="tina-btn" id="tina-add-to-cart-btn">Add to Cart</button>

<table class="view-library-table">
    <thead></thead>
    <tbody>
        {% for header_string, table_rows in library_display_table.iteritems %}
            {% if table_rows %}
                <tr>
                    <td colspan="100" class="view-library-table-group-header">
                        {{ header_string }}
                    </td>
                </tr>
                {% for table_row in table_rows %}
                    <tr>
                        <td><input type="checkbox" class="tina-small-check" data-lib-pk="{{ table_row.library_inst.pk }}"></td>
                        {% for col_data in table_row.row_content %}
                            <td>{{ col_data }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            {% endif %}
        {% endfor %}
    </tbody>
</table>
{% endblock content %}